<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <link rel="stylesheet" href="basic.css">
 
    <title>HTML EXO JS</title>
</head>
 
<body>
    <!-- brotip -->
    <!-- https://www.w3schools.com/js/js_htmldom_document.asp -->
 
    <!-- getElementById : méthode , récup l'élément actuel par son id, c'est comme un sélecteur css
    innerHTML : propriété , récup le contenu , utile aussi pour remplacer-->
 
    <!-- 1. afficher "BONJOUR MADAME LA MINISTRE" dans la balise ci-dessous, via le js -->
    <p id="salut">Bonjour cher utilisateur.</p>
    <script>
        let hello = "BONJOUR MADAME LA MINISTRE";
        document.getElementById('salut').innerText = hello;
    </script>
 
    <!-- 2. remplacer le logo github par une photo de l'élysée  -->
    <img id="imageTest" src="https://cdn.dribbble.com/users/6569/screenshots/15810900/media/ba31ac56fc193c29841f6e4578f797b3.png?compress=1&resize=400x300&vertical=top"></img>
    <script>
        document.getElementById('imageTest').src="https://www.elysee.fr/images/default/0001/09/b699172527a2373a04b802e13ef1c6e38a02ef58.jpeg?w=800&h=420&crop=1447,759,31,180&s=c3e7a471ab0cf957b75b4195fb6768a20916f5ae6360ece2d605fe32653bb4ad"
    </script>
 
    <!-- 3. afficher une window popup demandant de se log à l'affichage de la page , brotip: utiliser window.prompt()
    si l'utilisateur se login correctement, afficher une popup d'alert confirmant le succès du login
    ex : 'ADMIN'
    -->
    <!-- vous vous rendez compte de la priorité d'appel des scripts -->
    <script>
        let log = prompt("Quel est votre log ?");

        if (log.toLowerCase() === "admin") {
        console.log(alert("Bienvenue 'Admin'"));
}
    </script>
 
 
    <!-- 4. a l'aide de l'event onclick a RAJOUTER sur la balise h1,
     ajouter un appel de fonction pour changer le texte par un lien -->
     <h1 onclick="changeText(this)"> Clickez moi pour commander un café.</h1>
     <script>
         function changeText(id) {
            id.innerHTML = "Votre café arrive de colombie arrivé estimé : 12h!";
 }
     </script>
 
    <!-- 5. créer un boutton qui va afficher la date dans le dom -->
    <button id="dateButton">Afficher l'heure</button>
    <p id="dateDisplay"></p>
    <script>
        document.getElementById("dateButton").onclick = displayDate;

    // affiche la date dans le date display
    function displayDate(){
        // todo changer de date
        document.getElementById("dateDisplay").innerHTML = Date();
}
    </script>
 
    <!-- 6. changer le contenu html de la div au survol,
         ...ahem... au mouseover en anglais -->
    <div onmouseover="coucou(this)" onmouseout="auRevoir(this)">Survolez moi</div>
 
    <script>
        function coucou(id) {
            id.innerHTML = "je suis plus la";
        }
        function auRevoir(id){
            id.innerHTML = "survole moi";
        }
    </script>
 
    <!-- 7. changer la couleur de fond de la balise avec l'id alarme
        lors du click sur le bouton lancer l'alarme et changer son texte par "alarme lancée"-->
    <p id="alarme">Devons nous lancer l'alarme</p>
    <script>
        document.getElementById("alarme").onclick = changeColor;

        function changeColor(id) {
            id.innerHTML = document.getElementById("alarme").style.backgroundColor = "red";
            id.innerHTML = document.getElementById("alarme").style.color = "white";
            id.innerHTML = document.getElementById("alarme").innerText = "Alarme déclenché"
 }

    </script>
 
    <!-- 8 : afficher la div cachée au survol de la div changeStyleMouseover -->
    <p id="changeStyleMouseover">Afficher la div cachée</p>
    <p id="displayOnMouseover" style="visibility:hidden">cachée</p>
    <script>
        document.getElementById("changeStyleMouseover").onmouseover = visible;

        function visible(){
            document.getElementById("displayOnMouseover").style.visibility = 'visible';
        }
    </script>
 
    <!-- SIGMA GRINDSET BONUS : rajouter un texte via javascript à la suite de para2-->
    <div id="new">
        <p id="para1">hey</p>
        <p id="para2">heyheyhey</p>
    </div>
    <script>
        var tag = document.createElement('p');
        var text = document.createTextNode('texte contenue');
        tag.appendChild(text);
        var element = document.getElementById("new");
        element.appendChild(tag);
    </script>
<!-- GIGACHAD BONUS : afficher les utilisateurs d'un tableau dans l'html -->
    <div id="displayUsers"></div>
    <script>
        let tabUsers = ['Manuel', 'Jean-Luc', 'Eric'];
        var temp;

        var tag = document.createElement('p');
        var text = document.createTextNode(tabUsers);
        tag.appendChild(text);
        var element = document.getElementById("displayUsers");
        element.appendChild(tag);

        for(let i = 0 ; i < tabUsers.length ; i++){
            temp = document.createElement('div');
            temp.className = 'user';
            temp.innerHTML = tabUsers[i];
            document.getElementById('displayUsers').appendChild(temp)
        }
    </script>

    <!-- classe User avec les propriétés
        age -> Number , type -> userType , username->String , strength -> number
        instancier 5 users différents
        sélectionner deux utilisateurs au hasard, afficher leur nom dans une nouvelle div et un boutton lancant un combat entre les deux utilisateurs
        les faire s'affronter dans un match a mort ! le plus FORT ( strength en anglais) 
        gagne et voit son nom affiché dans une popup d'alerte ( ...ahem... alert() )
        un utilisateur PREMIUM gagnera toujours, sauf s'il affronte un autre utilisateur premium dans ce cas le plus fort des deux gagne.
    -->
    <div>
        <button id="combat" onclick="combat(fighterA,fighterB)">Lancer un combat</button>
    </div>
    <script>
        const type = ["user","prenium"]

        class Fighter {
            constructor(age,type,username,strength){
            this.age = age;
            this.type = type;
            this.username = username;
            this.strength = strength;
            }
        }

        let fighter1 = new Fighter(25,type[0],"Youcef",75);
        let fighter2 = new Fighter(18,type[0],"loïc",92);
        let fighter3 = new Fighter(39,type[1],"Alexandre",60);
        let fighter4 = new Fighter(51,type[1],"Hugo",100);
        let fighter5 = new Fighter(29,type[0],"Quentin",56);

        let fighter = [fighter1,fighter2,fighter3,fighter4,fighter5];
        let r = Math.floor(Math.random()*fighter.length);


        let fighterA = fighter[r];
        let fighterB = fighterA;
        

        while (fighterA === fighterB){
            r = Math.floor(Math.random()*fighter.length);
            fighterB = fighter[r];
        }

        function combat(fighterA, fighterB){
            if (fighterA.type != fighterB.type){
                if (fighterA.type === type[1]){
                    return alert(fighterA.username)
                }else if(fighterB.type != fighterA.type){
                    if (fighterB.type === type[1]){
                        return alert(fighterB.username)
                    }
                }else{
                    return alert("égalité");
                }
            }
            if (fighterA.type === fighterB.type){
                if (fighterA.strength > fighterB.strength){
                    return alert(fighterA.username)
                }else if (fighterB.strength > fighterA.strength){
                    return console.log(alert(fighterB.username))
                }else{
                    return alert("égalité")
                }
            }
        }
    </script>

    <script>
        const userType = ['NORMAL','PRENIUM']

        //1 
        class User{
            constructor(age,type,username, strength){
                this.age = age;
                this.type = type;
                this.username = username;
                this.strength = strength;
            }
        }
        //2 tableau combattant
        let fighters = [
            new user(12, type[0], 'kevin', 2),
            new user(50, type[0], 'shaquille o\'neal', 2),
            new user(34, type[1], 'mr le ministre', 1),
            new user(66, type[1], 'booba', 20),
            new user(50, type[0], 'brickhead', 40)
        ]

        //3picks a random number depending on the fighter db
        
        function startMatch(){
            let randomFighterPick = Math.floor(Math.random() * fighters.length);
            fighters[randomFighterPick]

            let combattant1 = fighters[randomFighterPick];
            let combattant2 = combattant1;

            while (combattant1 === combattant2){
                randomFighterPick = Math.floor(Math.random() * fighters.length)
                combattant2 = fighters[randomFighterPick];
            }

            if(deathmatch(combattant1,combattant2)=== undefined){
                alert("match nul")
            }else{
                alert(deathmatch(combattant1,combattant2).username);

            }


            deathmatch(combattant1,combattant2)
        }
        function deathmatch(combattantA, combattantB){
            if(combattantA !== combattantB){
                //trucage ici
                if(combattantA.type === userType[1]){
                    return combattantA;
                }
                else{
                    return combattantB
                }
            }
            // partie combat
            if(combattantA.strength > combattantB.strength){
                return combattantA;
            }
            else if(combattantA.strength < combattantB.strength){
                return combattantB
            }
            else{
                //todo correct
                return;
            }
        }



    </script>
        <a href="index.html">Acceuil</a>
</body>
</html>